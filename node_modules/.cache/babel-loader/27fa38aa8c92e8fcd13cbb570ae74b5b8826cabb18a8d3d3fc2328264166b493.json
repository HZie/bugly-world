{"ast":null,"code":"var _jsxFileName = \"/Users/maggy/Workspace/bugly-world/src/components/Minesweeper/Minesweeper.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport \"./minesweeper.css\";\n\n// Minesweeperì—ì„œ QuizModal ê´€ë ¨ ë¡œì§ì„ ì œê±°í•˜ê³ , onQuizOpen ì´ë²¤íŠ¸ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ìˆ˜ì •\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Minesweeper({\n  level = 1,\n  onCorrect,\n  onSkip,\n  onQuizOpen,\n  solved\n}) {\n  _s();\n  const [grid, setGrid] = useState([]);\n  const [flagIndex, setFlagIndex] = useState(0);\n  useEffect(() => {\n    const size = level + 2;\n    const newGrid = Array.from({\n      length: size\n    }, () => Array.from({\n      length: size\n    }, () => ({\n      revealed: false,\n      flagged: false,\n      cleared: false\n    })));\n    newGrid[0][0].flagged = true; // ì²« ê¹ƒë°œ ì„¤ì •\n    setGrid(newGrid);\n  }, [level]);\n  const handleCellClick = (row, col) => {\n    setGrid(prevGrid => {\n      const newGrid = prevGrid.map(r => r.map(c => ({\n        ...c\n      })));\n      const clicked = newGrid[row][col];\n      if (clicked.flagged && !clicked.cleared) {\n        onQuizOpen(level, `${row}-${col}`);\n      }\n      return newGrid;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"minesweeper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"minesweeper-grid\",\n      style: {\n        \"--cols\": grid.length\n      },\n      children: grid.map((row, rowIndex) => row.map((cell, colIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `minesweeper-cell ${cell.flagged ? \"flagged\" : \"\"}`,\n        onClick: () => handleCellClick(rowIndex, colIndex),\n        children: cell.flagged ? \"ðŸš©\" : \"\"\n      }, `${rowIndex}-${colIndex}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(Minesweeper, \"hUHaw0Cv/uvd/4tbUSETCQEo6l0=\");\n_c = Minesweeper;\nexport default Minesweeper;\nvar _c;\n$RefreshReg$(_c, \"Minesweeper\");","map":{"version":3,"names":["useEffect","useState","useRef","jsxDEV","_jsxDEV","Minesweeper","level","onCorrect","onSkip","onQuizOpen","solved","_s","grid","setGrid","flagIndex","setFlagIndex","size","newGrid","Array","from","length","revealed","flagged","cleared","handleCellClick","row","col","prevGrid","map","r","c","clicked","className","children","style","rowIndex","cell","colIndex","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/maggy/Workspace/bugly-world/src/components/Minesweeper/Minesweeper.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport \"./minesweeper.css\";\n\n// Minesweeperì—ì„œ QuizModal ê´€ë ¨ ë¡œì§ì„ ì œê±°í•˜ê³ , onQuizOpen ì´ë²¤íŠ¸ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ìˆ˜ì •\nfunction Minesweeper({ level = 1, onCorrect, onSkip, onQuizOpen, solved }) {\n  const [grid, setGrid] = useState([]);\n  const [flagIndex, setFlagIndex] = useState(0);\n\n  useEffect(() => {\n    const size = level + 2;\n    const newGrid = Array.from({ length: size }, () =>\n      Array.from({ length: size }, () => ({\n        revealed: false,\n        flagged: false,\n        cleared: false,\n      }))\n    );\n\n    newGrid[0][0].flagged = true; // ì²« ê¹ƒë°œ ì„¤ì •\n    setGrid(newGrid);\n  }, [level]);\n\n  const handleCellClick = (row, col) => {\n    setGrid((prevGrid) => {\n      const newGrid = prevGrid.map((r) => r.map((c) => ({ ...c })));\n      const clicked = newGrid[row][col];\n      if (clicked.flagged && !clicked.cleared) {\n        onQuizOpen(level, `${row}-${col}`);\n      }\n      return newGrid;\n    });\n  };\n\n  return (\n    <div className=\"minesweeper\">\n      <div className=\"minesweeper-grid\" style={{ \"--cols\": grid.length }}>\n        {grid.map((row, rowIndex) =>\n          row.map((cell, colIndex) => (\n            <div\n              key={`${rowIndex}-${colIndex}`}\n              className={`minesweeper-cell ${cell.flagged ? \"flagged\" : \"\"}`}\n              onClick={() => handleCellClick(rowIndex, colIndex)}\n            >\n              {cell.flagged ? \"ðŸš©\" : \"\"}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Minesweeper;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACnD,OAAO,mBAAmB;;AAE1B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,SAASC,WAAWA,CAAC;EAAEC,KAAK,GAAG,CAAC;EAAEC,SAAS;EAAEC,MAAM;EAAEC,UAAU;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EACzE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACd,MAAMgB,IAAI,GAAGV,KAAK,GAAG,CAAC;IACtB,MAAMW,OAAO,GAAGC,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAEJ;IAAK,CAAC,EAAE,MAC3CE,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAEJ;IAAK,CAAC,EAAE,OAAO;MAClCK,QAAQ,EAAE,KAAK;MACfC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC,CAAC,CACJ,CAAC;IAEDN,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACK,OAAO,GAAG,IAAI,CAAC,CAAC;IAC9BT,OAAO,CAACI,OAAO,CAAC;EAClB,CAAC,EAAE,CAACX,KAAK,CAAC,CAAC;EAEX,MAAMkB,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;IACpCb,OAAO,CAAEc,QAAQ,IAAK;MACpB,MAAMV,OAAO,GAAGU,QAAQ,CAACC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACD,GAAG,CAAEE,CAAC,KAAM;QAAE,GAAGA;MAAE,CAAC,CAAC,CAAC,CAAC;MAC7D,MAAMC,OAAO,GAAGd,OAAO,CAACQ,GAAG,CAAC,CAACC,GAAG,CAAC;MACjC,IAAIK,OAAO,CAACT,OAAO,IAAI,CAACS,OAAO,CAACR,OAAO,EAAE;QACvCd,UAAU,CAACH,KAAK,EAAE,GAAGmB,GAAG,IAAIC,GAAG,EAAE,CAAC;MACpC;MACA,OAAOT,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;EAED,oBACEb,OAAA;IAAK4B,SAAS,EAAC,aAAa;IAAAC,QAAA,eAC1B7B,OAAA;MAAK4B,SAAS,EAAC,kBAAkB;MAACE,KAAK,EAAE;QAAE,QAAQ,EAAEtB,IAAI,CAACQ;MAAO,CAAE;MAAAa,QAAA,EAChErB,IAAI,CAACgB,GAAG,CAAC,CAACH,GAAG,EAAEU,QAAQ,KACtBV,GAAG,CAACG,GAAG,CAAC,CAACQ,IAAI,EAAEC,QAAQ,kBACrBjC,OAAA;QAEE4B,SAAS,EAAE,oBAAoBI,IAAI,CAACd,OAAO,GAAG,SAAS,GAAG,EAAE,EAAG;QAC/DgB,OAAO,EAAEA,CAAA,KAAMd,eAAe,CAACW,QAAQ,EAAEE,QAAQ,CAAE;QAAAJ,QAAA,EAElDG,IAAI,CAACd,OAAO,GAAG,IAAI,GAAG;MAAE,GAJpB,GAAGa,QAAQ,IAAIE,QAAQ,EAAE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAK3B,CACN,CACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/B,EAAA,CA9CQN,WAAW;AAAAsC,EAAA,GAAXtC,WAAW;AAgDpB,eAAeA,WAAW;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}